<!DOCTYPE html>
<html lang="en">
    <head>
        <title>CNIT 133 Homework 3 Part 2: Salesperson's Pay</title>
        <meta charset="utf-8">
        <meta name="description" content="CCSF's Spring 2020 CNIT 133 Homework 3 Part 2: using JavaScript and JQuerry to perform basic functions on input values; calculating salesperon's pay">
        <link rel="stylesheet" href="../hw1.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
        <script src="https://ajax.aspnetcdn.com/ajax/jquery.validate/1.13.1/jquery.validate.min.js"></script>
        <script>
        $(document).ready(function(){
            console.log ("document ready");
            $("[name=name]").focus();
            $("#myInput").validate({
                rules: 
            {
		      input1: { required: true, number: true, min: 0},
              input2: { required: true, number: true, min: 0},
             input3: { required: true, number: true, min: 0},
              input4: { required: true, number: true, min: 0},
            name: {required: true},
      
            }         
            });
            $("#submit").click (function () {
            console.log ("are my inputs valid?");
              if ($("#myInput").valid ()){ 
                console.log ("inputs valid");
                process ();
                }                       
            });
             $("#reset").click (function () {
                console.log ("reloading page");
                location.reload ();              
            });                      
                       
        });
              function process () {
                console.log ("calculating");
                  
                  var myInput1, myInput2, myInput3, myInput4, 
                      myTotal1, myTotal2, myTotal3, myTotal4,
                          mySum, myPay;
                  
                  myInput1 = parseInt($("[name=input1]").val ());
                  myInput2 = parseInt($("[name=input2]").val ());
                   myInput3 = parseInt($("[name=input3]").val ());
                   myInput4 = parseInt($("[name=input4]").val ());
                  
                  myTotal1 = parseFloat($("[name=price1]").val ())* myInput1;
                  myTotal2 = parseFloat($("[name=price2]").val ())* myInput2;
                  myTotal3 = parseFloat($("[name=price3]").val ())* myInput3;
                  myTotal4 = parseFloat($("[name=price4]").val ())* myInput4;
                  
                  mySum = (myTotal1 + myTotal2 + myTotal3 + myTotal4);
                  myPay = 0.09 * mySum + 200;
                                                
                  $("[name=sold1]").val (myInput1);
                  $("[name=sold2]").val (myInput2);
                  $("[name=sold3]").val (myInput3);
                  $("[name=sold4]").val (myInput4);
                  
                  $("[name=total1]").val (myTotal1.toFixed (2) );
                  $("[name=total2]").val (myTotal2.toFixed(2) );
                  $("[name=total3]").val (myTotal3.toFixed (2) );
                  $("[name=total4]").val (myTotal4.toFixed (2) );
                  
                  $("[name=sum]").val (mySum.toFixed (2) );
                  $("[name=pay]").val(myPay.toFixed(2) );
                                                                             
                 }                                    
        
        
        </script>
        
        <!-- code and imports for tooltip -->
         <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
  
  
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
        <script>
        $( function() {
            $(document).tooltip();
        } );
        </script>

    </head>
    <body>
        <div class="wrapper">
            <h1>CNIT 133 Homework 3 Part 2: Salesperson's Pay</h1>        
            
              <form name ="myInput" id="myInput">
            <table>
                <tr><td><label for="name">Salesperson</label></td>
                    <td><input type ="text" name = "name" size ="30" id="name" title="Please make sure that name is spelled correctly"></td></tr> 
            </table>
            <br>
            <h4>Inmput the numbers of items sold for each item number:</h4>
          
            <table>
                
            <tr><td><label for="input1" >Item 1:</label></td>
                <td><input name="input1" id="input1" type = "number" step = "1" value="0"></td></tr>
           
            <tr><td><label for="input2" >Item 2:</label></td>
                <td><input name="input2" id="input2" type = "number" step = "1" value="0"></td></tr>
            
            <tr><td><label for="input3" >Item 3:</label></td>
                <td><input name="input3" id="input3" type = "number" step = "1" value="0"></td></tr>
            
            <tr><td><label for="input4" >Item 4:</label></td>
                <td><input name="input4" id="input4" type = "number" step = "1" value="0"></td></tr>
    
    </table>
        <input type = "button" value = "Submit" id="submit">
                <input type = "reset" value = "Reset" id="reset">       
    </form> 
    <br>
    <form name="myOutput">
            
        <table>
            <tr><th>Item #</th><th>Price ($)</th><th>Number Sold</th><th>Total ($)</th></tr>
        
            <tr><td>1</td>
                <td><input type="number" name="price1" value="239.99" readonly></td>
                <td><input type="number" name ="sold1" readonly></td>
                <td><input type ="number" name = "total1" readonly></td></tr> 
    
            <tr><td>2</td>
                <td><input type="number" name="price2" value="129.75" readonly></td>
                <td><input type="number" name ="sold2" readonly></td>
                <td><input type ="number" name = "total2" readonly></td></tr>
            
            <tr><td>3</td>
                <td><input type="number" name="price3" value="99.95" readonly></td>
                <td><input type="number" name ="sold3" readonly></td>
                <td><input type ="number" name = "total3" readonly></td></tr>
            
            <tr><td>3</td>
                <td><input type="number" name="price4" value="350.89" readonly></td>
                <td><input type="number" name ="sold4" readonly></td>
                <td><input type ="number" name = "total4" readonly></td></tr>
    
         <tr><td colspan="3">Total amount sold:</td>
             <td><input type ="number" name = "sum" readonly></td></tr>    
         
        <tr><td colspan ="3">Total weekly earnings:</td>
            <td><input type ="number" name = "pay" readonly></td></tr>    
      </table>
    </form>
        <br>
                                                     
        

        <ul><li><a href = "../hw3.html">Go Back</a></li></ul> 
        </div>
    </body>
</html>